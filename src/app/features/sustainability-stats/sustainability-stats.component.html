<div class="w-full h-full flex flex-col">
  <div
    class="w-full bg-gradient-to-r from-secondary-light to-secondary p-6 pt-12 flex items-center gap-4"
  >
    <button
      (click)="navigateBack()"
      class="text-white hover:bg-white/20 p-2 rounded-lg transition-all"
    >
      <mat-icon>arrow_back</mat-icon>
    </button>
    <h1 class="text-2xl font-bold text-white">Fenntarthatósági statisztika</h1>
  </div>

  <div class="p-6 space-y-6 flex-1 overflow-auto">
    <!-- Personal Impact Section -->
    <section class="space-y-4">
      <h2 class="text-lg font-semibold text-gray-800">A te hatásod</h2>
      <div class="grid grid-cols-2 gap-4" @listAnimation>
        <!-- Saved PET Counter -->
        <div class="stat-card bg-white rounded-2xl p-6 shadow-sm">
          <div class="flex items-center gap-3 mb-3">
            <div class="icon-container p-2 bg-blue-100 rounded-lg">
              <mat-icon class="text-blue-600">water_drop</mat-icon>
            </div>
            <h3 class="text-gray-600">Megtakarított PET</h3>
          </div>
          <p class="text-3xl font-bold">
            12 <span class="text-lg text-gray-500">db</span>
          </p>
        </div>

        <!-- CO2 Reduction -->
        <div class="stat-card bg-white rounded-2xl p-6 shadow-sm">
          <div class="flex items-center gap-3 mb-3">
            <div class="icon-container p-2 bg-green-100 rounded-lg">
              <mat-icon class="text-green-600">eco</mat-icon>
            </div>
            <h3 class="text-gray-600">CO2 csökkentés</h3>
          </div>
          <p class="text-3xl font-bold">
            3 <span class="text-lg text-gray-500">kg</span>
          </p>
        </div>
      </div>
    </section>

    <!-- Monthly Activity -->
    <section class="space-y-4">
      <h2 class="text-lg font-semibold text-gray-800">Havi aktivitás</h2>
      <div class="stat-card bg-white rounded-2xl p-6 shadow-sm">
        <div class="grid grid-cols-12 gap-2 h-32">
          <div
            *ngFor="
              let month of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
              let i = index
            "
            class="relative flex items-end h-full"
          >
            <div
              class="activity-bar w-full bg-secondary-light/20 rounded-t-lg"
              [style.height.%]="getHeight(i)"
              [class.bg-secondary-light]="month === currentMonth"
            ></div>
            <span
              class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs text-gray-500"
              >{{ month }}</span
            >
          </div>
        </div>
      </div>
    </section>

    <!-- Global Impact -->
    <section class="space-y-4">
      <h2 class="text-lg font-semibold text-gray-800">Globális hatás</h2>
      <div class="space-y-4">
        <!-- Total PET Saved -->
        <div class="stat-card bg-white rounded-2xl p-6 shadow-sm">
          <div class="flex justify-between items-center mb-3">
            <div class="flex items-center gap-3">
              <div class="icon-container p-2 bg-blue-100 rounded-lg">
                <mat-icon class="text-blue-600">water_drop</mat-icon>
              </div>
              <h3 class="text-gray-600">Megtakarított PET</h3>
            </div>
            <p class="text-xl font-bold">
              12,458 <span class="text-sm text-gray-500">db</span>
            </p>
          </div>
          <div class="h-2 bg-blue-100 rounded-full overflow-hidden">
            <div
              class="progress-bar h-full bg-blue-600 w-3/4 rounded-full"
            ></div>
          </div>
        </div>

        <!-- Total CO2 Reduction -->
        <div class="stat-card bg-white rounded-2xl p-6 shadow-sm">
          <div class="flex justify-between items-center mb-3">
            <div class="flex items-center gap-3">
              <div class="icon-container p-2 bg-green-100 rounded-lg">
                <mat-icon class="text-green-600">eco</mat-icon>
              </div>
              <h3 class="text-gray-600">CO2 csökkentés</h3>
            </div>
            <p class="text-xl font-bold">
              3,245 <span class="text-sm text-gray-500">kg</span>
            </p>
          </div>
          <div class="h-2 bg-green-100 rounded-full overflow-hidden">
            <div
              class="progress-bar h-full bg-green-600 w-2/3 rounded-full"
            ></div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
